# è‡ªå®šä¹‰ä¾§è¾¹æ ç»„ä»¶é…ç½®
card_comments:
  class_name: card-widget card-comments
  enable: false
  header:
    icon: fas fa-comments
    title: ğŸ’¬ æœ€æ–°ç•™è¨€
    url: /comments/
  content: |
    <div class="recent-comments">
      <div id="recent-comments-list">
        <div class="comment-loading">
          <i class="fas fa-spinner fa-spin"></i> åŠ è½½ä¸­...
        </div>
      </div>
      <div class="view-all-comments">
        <a href="/comments/" class="btn-view-all">
          <i class="fas fa-comment-dots"></i> æŸ¥çœ‹å…¨éƒ¨ç•™è¨€
        </a>
      </div>
    </div>
    <script>
    // åŠ è½½æœ€æ–°ç•™è¨€
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof Valine !== 'undefined') {
        // å¦‚æœ Valine å·²åŠ è½½ï¼Œè·å–æœ€æ–°è¯„è®º
        setTimeout(function() {
          loadRecentComments();
        }, 1000);
      } else {
        // ç­‰å¾… Valine åŠ è½½
        var checkValine = setInterval(function() {
          if (typeof Valine !== 'undefined') {
            clearInterval(checkValine);
            loadRecentComments();
          }
        }, 500);
      }
    });
    
    function loadRecentComments() {
      var commentsList = document.getElementById('recent-comments-list');
      if (!commentsList) return;
      
      // æ¨¡æ‹Ÿè·å–æœ€æ–°è¯„è®ºæ•°æ®
      var recentComments = [
        {
          nick: 'è®¿å®¢1',
          comment: 'è¿™ä¸ªåšå®¢å†…å®¹å¾ˆæ£’ï¼',
          time: '2å°æ—¶å‰'
        },
        {
          nick: 'æŠ€æœ¯çˆ±å¥½è€…',
          comment: 'å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œæ„Ÿè°¢åˆ†äº«',
          time: '1å¤©å‰'
        },
        {
          nick: 'å°æ˜',
          comment: 'ä»£ç ç¤ºä¾‹å¾ˆæ¸…æ™°',
          time: '2å¤©å‰'
        }
      ];
      
      var html = '';
      recentComments.forEach(function(comment) {
        html += '<div class="recent-comment-item">';
        html += '<div class="comment-author">' + comment.nick + '</div>';
        html += '<div class="comment-content">' + comment.comment + '</div>';
        html += '<div class="comment-time">' + comment.time + '</div>';
        html += '</div>';
      });
      
      if (html === '') {
        html = '<div class="no-comments"><i class="fas fa-comment-slash"></i> æš‚æ— ç•™è¨€</div>';
      }
      
      commentsList.innerHTML = html;
    }
    </script>