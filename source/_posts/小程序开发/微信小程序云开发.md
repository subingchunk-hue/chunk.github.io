---
title: 实验报告——微信小程序云开发
date: 2025-09-01 15:10:00
tags: [小程序开发, 实验]
categories: [小程序]
---

## 实验目标

1. 学习微信小程序云开发的基础知识。
2. 能够完成利用文本搜索的功能就好，图像识别、语音识别接口有时有问题，不强求。

## 实验步骤

#### 创建项目及云环境

1. 创建空项目，本实验要选取开发模式为微信云开发；

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 133547.png" alt="屏幕截图 2025-09-01 133547" style="zoom: 50%;" />

2. 点开控制台体验云开发免费资源

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 133656.png" alt="屏幕截图 2025-09-01 133656" style="zoom: 50%;" />

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 133734.png" alt="屏幕截图 2025-09-01 133734" style="zoom: 50%;" />

3. 注册百度智能云并实名认证, 创建一个图像应用, 记录相应的`API KEY` 和` SECRET KEY`

<img src="/chunk.github.io/images/屏幕截图 2025-09-01 142943.png" alt="屏幕截图 2025-09-01 142943" style="zoom:50%;" />                          

<img src="/chunk.github.io/images/屏幕截图 2025-09-01 145034.png" alt="屏幕截图 2025-09-01 145034" style="zoom:50%;" />                                  

#### 导入垃圾分类数据集

​	在控制台中点击数据集，添加集合并导入相应的数据集。

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 142336.png" alt="屏幕截图 2025-09-01 142336" style="zoom:50%;" />

#### 创建及调用云函数代码

1. 在新建的小程序中导入垃圾分类小程序小程序

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 145421.png" alt="屏幕截图 2025-09-01 145421" style="zoom: 50%;" />

2. 在`project.config.json`文件中添加微信开发工具中的个人appid

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 145542.png" alt="屏幕截图 2025-09-01 145542" style="zoom:50%;" />

3. 在`miniprogram`文件夹下的`app.js`中添加云开发的ID
   云开发环境的ID：打开云开放，界面右上角有一个环境ID，点击复制即可
   
   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 153852.png" alt="屏幕截图 2025-09-01 153852" style="zoom: 50%;" />
   
   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 153825.png" alt="屏幕截图 2025-09-01 153825" style="zoom: 50%;" />

4. 在`miniprogram`的子文件夹`search`下的`search.js`中添加百度云图像识别应用的`API Key`与 `Secret Key`

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 153911.png" alt="屏幕截图 2025-09-01 153911" style="zoom: 50%;" />


5. 部署云函数，将`cloudfuntions`文件夹下的子文件夹全部上传并部署

   右击各个上传的子文件点击`上传并部署：云端安装依赖`

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 145911.png" alt="屏幕截图 2025-09-01 145911" style="zoom:50%;" />

## 程序运行结果

   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 150132.png" alt="屏幕截图 2025-09-01 150132" style="zoom:33%;" />     
   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 150141.png" alt="屏幕截图 2025-09-01 150141" style="zoom:33%;" />        
   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 150152.png" alt="屏幕截图 2025-09-01 150152" style="zoom:33%;" />       
   <img src="/chunk.github.io/images/屏幕截图 2025-09-01 150335.png" alt="屏幕截图 2025-09-01 150335" style="zoom:33%;" />  

## 问题总结与体会

#### 遇到的主要问题及解决方案

- 云环境ID配置错误

  一开始没搞清楚云环境ID究竟是什么，最后在谷歌上搜索才发现我写错了导致一直不能搜索。

- 进行数据库的配置时将原先的两个数据集上传到了一个里面导致无法进行匹配

  上传数据集时，需要确保数据集的格式正确，并且在上传前先创建好数据集的集合。

#### 心得体会
​	在本次实验中，我学会了如何使用微信小程序云开发工具以及百度智能云的图像识别API来构建一个垃圾分类小程序，并从中收获了许多宝贵的经验。
​	首先，通过搭建和配置云开发环境，我了解云开发架构。云开发能够极大地简化应用的开发流程，特别是对于初学者来说，无需过多关注服务器的管理和底层技术。实验过程中，创建云数据库和云函数的操作非常直观，在云函数中实现业务逻辑、进行数据处理也变得更加简单。
​	其次，对于百度智能云的图像识别部分，在完成API的配置和调用后，我成功实现了对垃圾图像的识别。这部分让我认识到如何将第三方API与微信小程序结合，并且深刻体会到API调用中的参数配置和数据处理的重要性。
​	通过这次实验，我对微信小程序云开发的基本过程有了一定的了解。